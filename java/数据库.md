#1.SQL语言分类
*	DDL:数据定义语言，定义数据库对象：库，表，列
*	DML:数据操作语言，定义数据库库记录
*	DCL：数据控制语言，定义访问权限和安全级别
*	DQL：数据查询语言
##备注：注释以#号或--空格开头。
#2.一些DDL语句
*	CREATE DATABASE mydb2 charcter SET GBK;
*	show create database mydb1;
*	alter database mydb1 character set gbk;
*	drop database mydb2;
*	SELECT database();
*	USE mydb1;
*	create table student(stuNo int,name varchar(10),age int,address varchar(50));
*	ALTER TABLE student ADD image blob;
*	ALTER TABLE student MODIFY name  varchar(20);
*	show create table student;
#3.一些DML语句
*	insert into student(stuNo,name,age,address,image)
    -> values(11,'zhan',13,'beijing','de');
*	select * from student;
*	show variables like 'character%';
*	Set character_set_client=gbk;(临时更改客户端与服务器结果集的编码)
*	Set character_set_results=gbk;
*	update student set age=23 where name='zhan';
*	update user set 'date'=NOW() where name="zhan";
##备注：DELETE删除表中的数据，表结构还在，删除后的数据可以找回。而truncate删除是把表直接drop掉，然后再创建一个同样的新表。
#4.查询语句
##4.1 条件查询语句
*	SELECT * FROM student WHERE age=12 AND name='chan';
*	SELECT * FROM student WHERE age in (13,14,15);
*	SELECT * FROM student WHERE name IS NOT NULL;
*	SELECT * FROM student WHERE name not like '%R';
##4.2 模糊查询语句
###其中通配符： _ 表示任意一个字符 % 表示任意0-n个字符。模糊查询必须使用LIKE关键字，"_"匹配任意一个字母，"___"表示匹配三个字母。
###SELECT * FROM student WHERE name LIKE '%a%';
##4.3 字段控制查询
*	去除重复记录，使用distinct
*	若两列的类型都是数值类型，可以做加运算，如果与NULL相加，使用IFNULL函数，IFNULL(com,0),其中字符串的合并不能使用加号，使用concat(a,' ',b)
###SELECT age as '年龄'，name as '姓名',address as '地址',sal+ifnull(com,0) as '工资总和' from student;
##4.4 排序
###使用关键字ORDER BY。ASC为从小到大，DESC为从大到小。
##4.5 连接查询
*	笛卡尔积:SELECT * FROM emp,dept WHERE emp.'deptno'=dept.'deptno';是内连接查询，但不是标准的。
*	标准内连接查询：SELECT * FROM emp e INNER JOIN dept d ON e.'deptno'=dept.'deptno';  特点：查询结果必须满足条件，两个表的地位相同。
*	外连接查询：两个表的地位不相同一个主，一个次。左外连接：SELECT * FROM emp e LEFT OUTER JOIN dept d ON e.'deptno'=dept.'deptno';左连接是先查询出左表，然后查询右表，右表满足条件的显示出来，不满足条件的显示NULL。
*	通常连接查询不可能需要整个笛卡尔积，而只是需要其中一部分，这时就需要使用条件来去除不需要的记录，大多使用主外键关系去除。
##4.6 分组查询
###select sum(sal),max(sal),count(*),deptno from emp group by deptno;
having与where的区别：having是在分组之后对数据进行过滤，而where是在分组前对数据进行过滤。having后面可以使用分组函数。
###LIMIT用来限定查询结果的记录条数。
###查询语句的书写顺序：select-from-where-group by-having-order by-limit
##4.7 子查询
一个select语句中包含有另一个完整的select语句。嵌套查询
子查询出现的位置：a.where后作为被查询的条件的一部分 b.from后面作表
*	工资高于30号部门所有人的员工信息:select * from emp where sal>all (select sal from emp where deptno=30
#5.需要注意的类型：CHAR,VARCHAR,BLOB,TEXT,DATE,DATETIME,INT,DOUBLE(M,D),DECIMAL(M,D)
#6.引用完整性：FOREIGN KEY(外键约束）
##CONSTRAINT fk_score foreign key(sid) references student(id)或者 sid INT references student(id)
注意：外键列的数据类型一定要与主键的类型一致。
#7.多表查询：外键约束
*	一对多关系：客户和订单，分类和商品，部门和员工。一对多的建表原则：在多的一方进行创建字段，字段作为外键指向一方的主键。
*	多对多关系：需要创建第三张表，中间表至少有两个字段，这两个字段分别作为外键指向各自一方的主键。
#8.合并结果集
将两个select语句的查询结果合并在一起。
UNION:去除重复记录
UNION ALL：不去除重复记录
#9.实体完整性：
*	主键约束：数据唯一，且不为NULL，每个表中都要有一个主键。primary key(id1,id2)可以创建联合主键。
*	唯一约束：unique 数据不能重复,可以为null。
*	自动增长列：给主键添加自动增长的数值。列只能是整数类型。auto_increment
#10.域完整性：
限制单元格的数据正确，不对照此列的其他单元格比较。域代表当前单元格，域的完整性约束：数据类型 非空约束(not null),默认值约束(default)
#11.聚合函数
*	COUNT()  统计指定列不为NULL的记录行数
*	MAX()
*	MIN()
*	SUM()
*	AVG()
#12.导入导出数据库
*	导出数据库表：mysqldump -u root -p 数据库名 > school.sql
*	导入数据库表：先进行数据库的登录-> mysql>use 数据库 使用source命令，即source d:/dbname.sql
#13.实际应用案例：商品与订单之间是多对多关系，使用商场数据库，创建分类表category，设置主键cid，创建商品表products，设置主键pid,此外添加外键category_id VARCHAR(20) REFERENCES category(cid),设置订单表order，设置主键oid，创建订单项表orderitem,是订单和商品即oid和pid的联合主键，创建用户表user，设置主键userid,在订单表中添加主键userid。
*	查询用户的订单，没有订单的用户不显示
select * from orders o inner join user u on o.userid=u.userid;
*	查询所有用户的订单详情
select * from orders o inner join user u on o.userid=u.userid inner join orderitem r on o.oid=r.oid;
*	查询所有订单的用户详情
select * from user u inner join orders r on u.userid=r.userid;
*	查看用户为张三的订单详情
select * from orders where userid=(select userid from user where username="张三");
*	查询出订单的价格大于300的所有用户信息
select * from user where userid in (select distinct userid from orders where totalprice>300);
*	查询出订单的价格大于300的订单信息以及相关用户信息
select * from orders o inner join user u on o.userid=u.userid where o.totalprice>300;
*	查询两门及两门以上不及格的学生姓名
select count(name),name from student where grade<60 group by name having count(name)>=2;
*	查询两门及两门以上不及格的学生平均分
select count(name),name from student where grade<60 group by name having count(name)>=2;
select avg(grade) from student where name in ("person1") group by name;
总结：如果两个表之间存在主从关系，在进行查询的时候，可以连续使用两次inner join,或者使用子查询，在where里添加条件。
#14.JDBC核心组件
*	DriverManager:此类管理数据库驱动程序列表，使用通信协议将来自java程序的连接请求与适当的数据库驱动程序匹配。
*	Driver：此接口处理与数据库服务器的通信，使用DriverManager对象来管理这种类型的对象。
*	Connection：该接口具有用于联系数据库的所有方法。
*	Statement:使用从此接口创建的对象将SQL语句提交到数据库。
*	ResultSet:在使用Statement对象执行SQL查询，作为迭代器，允许我们移动数据。
*	SQLException:处理程序中发生的任何错误。
#15.JDBC使用步骤：
*	导入JDBC驱动包：需要下载相应的jar包
*	注册JDBC驱动程序：初始化驱动程序
*	打开连接，使用DriverManager的getConnection方法创建一个connection对象，表示与数据库得到物理连接。
*	执行查询，使用类型为Statement的对象构建SQL语句提交到数据库。
*	从结果集中获取数据。
*	释放资源。
#16.SQL注入：
通过把SQL命令插入到web表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL的命令。比如影视网站泄露会员密码就是通过web表单递交查询字符爆出的。
#17.Statement负责创建命令，？表示占位符，执行时？会替换为实际数据，进行预编译，setString负责设置参数。
#18.之所以使用Class.forName("com.mysql.cj.jdbc.Driver");该方法，将驱动程序的类文件加载到内存中，将其自动注册。不使用DriverManager.registerdriver(new Driver())方法的原因是会注册两次，而且依赖驱动包。
#19.写入和读取二进制文件：
写入时：
#
	File file=new File("src\\emp.xml");  //在写入图片时，使用二进制流
	FileInputStream fis=new FileInputStream(file);
	state.setInt(1,10);
	state.setBinaryStream(2,file,file.length());
读取时：
#
	rs=state.executeQuery();
	if(rs.next()){
		int id=rs.getInt("id");
		InputStream is = rs.getAsciiStream("data");
		ByteArrayOutputStream baos=new ByteArrayOutputStream();
		byte[] buf =new byte[1024];
		int len=0;
		while((len=is.read(buf))!=-1){
		baos.write(buf,0,len);
	}
}
#20.数据库事务：
数据库的一个执行单元，要么同时执行成功，要么同时执行失败。事务的四大特点：原子性，一致性，隔离性，持久性。在执行DDL语句时，实现自动提交。
#21.事务隔离级别：
*	读取未提交内容：所有事务都可以看到其他未提交事务的执行结果。
*	读取提交内容：一个事务只能看见已经提交事务所做的改变，同一事务的其他实例在该实例处理时可能会有新的commit,同一select可能返回不同结果。
*	可重读：确保同一事务的多个实例在并发读取数据时，会看到同样的数据行。
*	可串行化：通过强制事务排序，使之不能相互冲突，在每个数据行上加上共享锁。
#22.由于多个地方都需要使用数据库进行连接和释放，故将功能封装到工具类中。C3P0是一个开源的JDBC连接池，实现了数据源和JNDI绑定，和dbcp的区别是：dbcp没有自动回收空闲连接的功能，而且需要手动设置配置文件。